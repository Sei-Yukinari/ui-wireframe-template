# High-Fidelity UI生成プロンプト

## 目的

既存ワイヤーフレーム構造を維持しつつ、TODOアプリをプロダクト品質のハイファイ実装に仕上げる。
このプロンプトはデザイン仕様・コンポーネント指示・実装上の制約を明確に提供し、フロントエンド実装者が最小限の追加で視覚的に完成したUIを作れるようにする。

---

## スコープ（守ること）

- 既存のルーティング・ファイル構造は変更しないこと。
- バックエンドやAPIは実装しない。UI制御はuseState等のクライアント状態に限定する。
- ファイル追加は最小限に留め、再利用可能なコンポーネントを優先する。

対象ルーティング：
- /
- /dashboard
- /task/[id]
- /settings

主要コンポーネント：
- Header
- Sidebar
- TaskList
- TaskItem
- BackButton
- CreateTaskModal

---

## 技術スタック

- Next.js（App Router）
- TypeScript
- TailwindCSS（ユーティリティ主体、カスタムCSSは最小限）

外部UIライブラリは原則禁止（必要な場合は明示）。

---

## デザイン指針

- モダンかつミニマルでSaaS製品感のある仕上がり
- 余白を重視し、要素間のリズムを統一
- 明確な階層（色・タイポグラフィ・シャドウ）で情報を分離
- アクセシビリティ（キーボード操作、コントラスト）を考慮

---

## デザイントークン（Tailwindベース参照）

- カラー: (参照: prompts/design-tokens.json)

- スペーシング: base 8px 単位（p-4 = 16px）
- ボーダー半径: rounded-lg (8px)
- シャドウ: shadow-sm -> soft card elevation
- タイポグラフィ:
  - 見出し: 600, 16-20px
  - 本文: 400, 14-16px

これらをTailwindのカスタム変数やユーティリティで統一して使う。

※ カラートークンを更新するには: npm run extract:tokens

---

## コンポーネント仕様（具体）

Header:
- 背景はsurface、左にロゴ/タイトル、右にユーザーメニュー（プレースホルダー）
- 高さ: 56px、パディング左右: px-4 / md:px-6

Sidebar:
- 固定幅 260px（md以上）、背景は白よりわずかに濃いsurfaceかbgの差分で分離
- メニューはアイコン＋ラベル、hoverでbg-surface-hover
- md未満では折りたたみ（ハンバーガー）で非表示にする

TaskList:
- リスト間隔を均一に、カード同士は gap-4
- フィルター/ソートUIは上部に小さなセグメントボタン

TaskItem:
- カード形式（surface背景、rounded-lg、shadow-sm）
- 左にチェックボックス（視覚的完了）、中央にタイトルとメタ（タグ・期限）、右にアクションボタン群（編集、詳細）
- 完了タスク: opacity-70 + line-through 表示、または薄い緑の左ボーダー
- ホバー: slight lift (translate-y-0.5 + shadow-md)

CreateTaskModal:
- セントラルなモーダル、最大幅 640px、内部はフォーム（タイトル、詳細、期限、タグ）
- キーボードで閉じられる（Esc）と、モーダル外クリックで閉じる
- バリデーション: タイトル必須（UI表示のみ）

Button variants (共通スタイル):
- primary: bg-primary text-white hover:bg-primary-600
- ghost: bg-transparent text-muted border-none
- outline: bg-surface border border-gray-200 text-muted
- danger: bg-danger text-white

---

## インタラクション（挙動）

- モーダルの開閉はuseStateで管理、開閉時にbodyのスクロールを禁止
- 表示のみのトースト/フィードバックは簡易的にstateで表示（自動で3秒で消える）
- キーボード操作: Tabでフォーム遷移、Enterで送信（エンターはフォーム内のボタンに依存）

---

## レスポンシブ

- md以上: 2カラムレイアウト（Sidebar + メイン）
- sm以下: Sidebarは折りたたみ、メインがフル幅
- フォーム・モーダルは狭い画面でフル幅に近いレイアウトに切替

---

## アクセシビリティ

- ボタン・リンクはフォーカス時に明確なアウトラインを表示
- 画像・アイコンにはalt/aria-hiddenを適切に設定
- 色のコントラストはWCAG AAを目安に調整

---

## 実装制約（禁止/許可の再確認）

許可:
- useState, useEffect（UI制御のみ）
- onClick 等のイベントハンドラ
- 簡易バリデーション（UIレベル）

禁止:
- 実ネットワーク/APIコール
- DB/Server Actions の実装
- 外部状態管理（Redux等）
- 認証フローの実装

---

## 出力ルール（必須）

- 変更されたファイルはすべて完全コードで出力すること（省略禁止）。
- フルディレクトリ構造を提示すること。
- 説明文や余分な注釈は含めない（コードとファイルのみ）。
- 実行可能であり、依存関係の追加があればpackage.jsonに明記する。

---

## 成功条件

- 見た目がSaaSプロダクトとして違和感ないこと
- md以上で2カラムを維持するレスポンシブ実装
- UIの主要コンポーネント（Header, Sidebar, TaskList, TaskItem, CreateTaskModal）が実装され、相互動作する

---

## 納品（期待される出力）

- 変更・追加したファイル一覧（フルパス）
- 各ファイルの完全なコード（省略なし）

---

## 参考資料

- /docs/ui-RDD.md
- /docs/ui-design-definition.md
